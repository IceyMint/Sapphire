os:
  - Visual Studio 2017

configuration:
  - Debug

platform:
  - Win32

environment:
  MSVC_DEFAULT_OPTIONS: ON
  MYSQL_PWD: "Password12!"

services:
  - mysql

before_build:
  - set PATH="C:\\Program Files\\MySQL\\MySQL Server 5.7\\bin";%PATH%
  - cd c:\projects\sapphire
  - git submodule update --init
  - mkdir build
  - cd build
  - cmake .. -G "Visual Studio 15 2017" 
  - cmake --build . --target ALL_BUILD --config Debug

build_script:
  - cd ..
  - sh sql_import.sh
